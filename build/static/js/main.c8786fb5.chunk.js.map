{"version":3,"sources":["components/delete.js","components/change.js","components/add.js","containers/allAds.js","functions/checkForm.js","containers/editAd.js","containers/addAd.js","App.js","actions/index.js","reducers/index.js","index.js"],"names":["Delete","props","id","deleteAd","className","onClick","fetch","method","then","response","json","result","catch","err","console","log","Change","url","to","Add","AllAds","ads","sort","a","b","map","ad","key","src","image","alt","title","description","checkForm","document","querySelectorAll","forEach","elem","remove","trim","span","createElement","classList","add","innerHTML","querySelector","after","ChangeAd","changeAd","editID","String","window","location","href","match","find","htmlFor","type","name","maxLength","required","defaultValue","rows","value","e","obj","body","JSON","stringify","headers","createdAt","updatedAt","preventDefault","saveToState","AddAd","addAd","addToState","App","exact","path","render","connect","state","dispatch","action","updateAt","filter","store","createStore","ReactDOM","getElementById"],"mappings":"0OAoBeA,G,MAlBF,SAAAC,GAAU,IACXC,EAAiBD,EAAjBC,GAAIC,EAAaF,EAAbE,SAYZ,OACI,4BAAQC,UAAU,eAAeC,QAAS,WAV1CC,MAAM,kDAAD,OAAmDJ,GAAM,CAC1DK,OAAQ,WAEXC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAAQF,MAAK,SAAAG,GACpCR,EAASQ,EAAOT,OAEnBU,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,QAI1B,YCHOG,EAVF,SAAAf,GAAU,IACXC,EAAOD,EAAPC,GACJe,EAAG,oBAAgBf,GACvB,OACI,kBAAC,IAAD,CAAMgB,GAAID,GACN,4BAAQb,UAAU,gBAAlB,UCGGe,EARL,WACN,OACI,kBAAC,IAAD,CAAMD,GAAG,eACL,4BAAQd,UAAU,gBAAlB,YCyBGgB,EAzBF,SAAAnB,GAAU,IACXoB,EAAiBpB,EAAjBoB,IAAKlB,EAAYF,EAAZE,SAEb,OACI,6BACI,kBAAC,EAAD,MAEIkB,EAAIC,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAErB,GAAKsB,EAAEtB,IAAM,EAAI,KAAGuB,KAAI,SAAAC,GACzC,OACI,yBAAKtB,UAAU,OAAOuB,IAAKD,EAAGxB,IAC1B,kBAAC,EAAD,CAAQA,GAAIwB,EAAGxB,GAAIC,SAAUA,IAC7B,kBAAC,EAAD,CAAQD,GAAIwB,EAAGxB,KACf,yBAAKE,UAAU,cAAcwB,IAAKF,EAAGG,MAAOC,IAAI,qDAChD,6BACI,0BAAM1B,UAAU,eAAesB,EAAGK,OAClC,uBAAG3B,UAAU,qBAAqBsB,EAAGM,oBCKtDC,EAzBC,SAACF,EAAOC,EAAaH,GAGjC,GAFAK,SAASC,iBAAiB,gBAAgBC,SAAQ,SAAAC,GAAI,OAAIA,EAAKC,YAE1C,KAAjBP,EAAMQ,OAAe,CACrB,IAAIC,EAAON,SAASO,cAAc,QAIlC,OAHAD,EAAKE,UAAUC,IAAI,eACnBH,EAAKI,UAAY,oGACjBV,SAASW,cAAc,gBAAgBC,MAAMN,IACtC,EACJ,GAA2B,KAAvBR,EAAYO,OAAe,CAClC,IAAIC,EAAON,SAASO,cAAc,QAIlC,OAHAD,EAAKE,UAAUC,IAAI,eACnBH,EAAKI,UAAY,4EACjBV,SAASW,cAAc,sBAAsBC,MAAMN,IAC5C,EACJ,GAAqB,KAAjBX,EAAMU,OAAe,CAC5B,IAAIC,EAAON,SAASO,cAAc,QAIlC,OAHAD,EAAKE,UAAUC,IAAI,eACnBH,EAAKI,UAAY,kKACjBV,SAASW,cAAc,gBAAgBC,MAAMN,IACtC,EAEX,OAAO,GCkCIO,EArDA,SAAA9C,GAAU,IACboB,EAAkBpB,EAAlBoB,IAAK2B,EAAa/C,EAAb+C,SACPC,EAASC,OAAOC,OAAOC,SAASC,KAAKC,MAAM,qBAAqBA,MAAM,UAAY,GAClF5B,EAAKL,EAAIkC,MAAK,SAAAlB,GAChB,OAAIA,EAAKnC,KAAO+C,KAkCpB,OACI,yBAAK7C,UAAU,QACX,0BAAMA,UAAU,QACZ,2BAAOoD,QAAQ,SAAf,0DACA,2BAAOpD,UAAU,cAAcqD,KAAK,OAAOC,KAAK,QAAQxD,GAAG,QAAQyD,UAAU,KAAKC,UAAQ,EAACC,aAAcnC,EAAGK,QAC5G,2BAAOyB,QAAQ,eAAf,kCACA,8BAAUpD,UAAU,oBAAoBqD,KAAK,OAAOC,KAAK,cAAcxD,GAAG,cAAcyD,UAAU,MAAMC,UAAQ,EAACC,aAAcnC,EAAGM,YAAa8B,KAAK,MACpJ,2BAAON,QAAQ,SAAf,wHACA,2BAAOpD,UAAU,cAAcqD,KAAK,OAAOC,KAAK,QAAQxD,GAAG,QAAQyD,UAAU,MAAME,aAAcnC,EAAGG,QACpG,kBAAC,IAAD,CAAMX,GAAG,KAAK,2BAAOuC,KAAK,SAASrD,UAAU,eAAe2D,MAAM,OAAO1D,QAAS,SAAC2D,GAAD,OAvC5E,SAACA,GAEf,IAAIjC,EAAQG,SAASW,cAAc,gBAAgBkB,MAC/C/B,EAAcE,SAASW,cAAc,sBAAsBkB,MAC3DlC,EAAQK,SAASW,cAAc,gBAAgBkB,MAEnD,GAAK9B,EAAUF,EAAOC,EAAaH,GAAnC,CAKA,IAAIoC,EAAM,CACN/D,GAAI+C,EACJlB,QACAC,cACAH,SAGJvB,MAAM,kDAAD,OAAmD2C,GAAU,CAC9D1C,OAAQ,MACR2D,KAAMC,KAAKC,UAAUH,GACrBI,QAAS,CACL,eAAgB,sBAErB7D,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC5BF,MAAK,SAAAG,GACFqC,EAASrC,EAAOT,GAAIS,EAAO2D,UAAW3D,EAAOoB,MAAOpB,EAAOqB,YAAarB,EAAO4D,UAAW5D,EAAOkB,eAnBjGmC,EAAEQ,iBAgC2FC,CAAYT,UCGtGU,EAlDH,SAAAzE,GAAU,IACZ0E,EAAU1E,EAAV0E,MAkCN,OACI,yBAAKvE,UAAU,QACX,0BAAMA,UAAU,QACZ,2BAAOoD,QAAQ,SAAf,0DACA,2BAAOpD,UAAU,cAAcqD,KAAK,OAAOC,KAAK,QAAQxD,GAAG,QAAQyD,UAAU,KAAKC,UAAQ,IAC1F,2BAAOJ,QAAQ,eAAf,kCACA,8BAAUpD,UAAU,oBAAoBqD,KAAK,OAAOC,KAAK,cAAcxD,GAAG,cAAcyD,UAAU,MAAMG,KAAK,MAC7G,2BAAON,QAAQ,SAAf,wHACA,2BAAOpD,UAAU,cAAcqD,KAAK,OAAOC,KAAK,QAAQxD,GAAG,QAAQyD,UAAU,QAC7E,kBAAC,IAAD,CAAMzC,GAAG,KAAK,2BAAOuC,KAAK,SAASrD,UAAU,eAAe2D,MAAM,OAAO1D,QAAS,SAAC2D,GAAD,OAzC7E,SAACA,GAEd,IAAIjC,EAAQG,SAASW,cAAc,gBAAgBkB,MAC/C/B,EAAcE,SAASW,cAAc,sBAAsBkB,MAC3DlC,EAAQK,SAASW,cAAc,gBAAgBkB,MAEnD,GAAK9B,EAAUF,EAAOC,EAAaH,GAAnC,CAKA,IAAIoC,EAAM,CACNlC,QACAC,cACAH,SAGJvB,MAAM,iDAAkD,CACpDC,OAAQ,OACR2D,KAAMC,KAAKC,UAAUH,GACrBI,QAAS,CACL,eAAgB,sBAGnB7D,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GACFG,QAAQC,IAAIJ,GAEZgE,EAAMhE,EAAOT,GAAIS,EAAO2D,UAAW3D,EAAOoB,MAAOpB,EAAOqB,YAAarB,EAAO4D,UAAW5D,EAAOkB,eArBlGmC,EAAEQ,iBAkC2FI,CAAWZ,UCvChHa,EAAM,SAAA5E,GAAU,IACVoB,EAAmCpB,EAAnCoB,IAAKsD,EAA8B1E,EAA9B0E,MAAO3B,EAAuB/C,EAAvB+C,SAAU7C,EAAaF,EAAbE,SAE9B,OACE,yBAAKC,UAAU,QACb,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO0E,OAAK,EAACC,KAAK,IAAIC,OAAQ,kBAAM,kBAAC,EAAD,CAAQ3D,IAAKA,EAAKlB,SAAUA,OAChE,kBAAC,IAAD,CAAO4E,KAAK,WAAWC,OAAQ,kBAAM,kBAAC,EAAD,CAAQ3D,IAAKA,EAAK2B,SAAUA,OACjE,kBAAC,IAAD,CAAO+B,KAAK,cAAcC,OAAQ,kBAAM,kBAAC,EAAD,CAAOL,MAAOA,UAyB/CE,EALfA,EAAMI,aAdkB,SAAAC,GACtB,MAAO,CACL7D,IAAK6D,MAIkB,SAAAC,GACzB,MAAO,CACLR,MAAO,SAACzE,EAAIoE,EAAWZ,EAAM3B,EAAOwC,EAAW1C,GAAxC,OAAkDsD,EC/BxC,SAACjF,EAAIoE,EAAWvC,EAAOC,EAAauC,EAAW1C,GAChE,MAAO,CACH4B,KAAM,SACNvD,KACAoE,YACAvC,QACAC,cACAuC,YACA1C,SDuB8D8C,CAAMzE,EAAIoE,EAAWZ,EAAM3B,EAAOwC,EAAW1C,KAC/GmB,SAAU,SAAC9C,EAAIoE,EAAWZ,EAAM3B,EAAOwC,EAAW1C,GAAxC,OAAkDsD,ECpBxC,SAACjF,EAAIoE,EAAWvC,EAAOC,EAAauC,EAAW1C,GACnE,MAAO,CACH4B,KAAM,YACNvD,KACAoE,YACAvC,QACAC,cACAuC,YACA1C,SDYiEmB,CAAS9C,EAAIoE,EAAWZ,EAAM3B,EAAOwC,EAAW1C,KACrH1B,SAAU,SAACD,GAAD,OAAQiF,ECTE,SAACjF,GACrB,MAAO,CACHuD,KAAM,YACNvD,MDMuBC,CAASD,QAIlC+E,CAGJJ,G,gBEEaxD,EAzCH,WAAyB,IAAxB6D,EAAuB,uDAAf,GAAIE,EAAW,uCAChC,OAAQA,EAAO3B,MACX,IAAK,SACD,MAAM,GAAN,mBACOyB,GADP,CAEI,CACIhF,GAAIkF,EAAOlF,GACXoE,UAAWc,EAAOd,UAClBvC,MAAOqD,EAAOrD,MACdC,YAAaoD,EAAOpD,YACpBqD,SAAUD,EAAOb,UACjB1C,MAAOuD,EAAOvD,SAI1B,IAAK,YACD,OAAOqD,EAAMzD,KAAI,SAAAY,GACb,OAAIA,EAAKnC,KAAOkF,EAAOlF,GACZ,CACHA,GAAImC,EAAKnC,GACToE,UAAWjC,EAAKiC,UAChBvC,MAAOqD,EAAOrD,MACdC,YAAaoD,EAAOpD,YACpBqD,SAAUD,EAAOb,UACjB1C,MAAOuD,EAAOvD,OAERQ,KAGtB,IAAK,YACD,OAAO6C,EAAMI,QAAO,SAACjD,GACjB,OAAIA,EAAKnC,KAAOkF,EAAOlF,MAK/B,QACI,OAAOgF,IC/BnB5E,MAAM,kDAAkDE,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAAQF,MAAK,SAAAG,GAC7F,IAAM4E,EAAQC,YAAYnE,EAAKV,GAE/B8E,IAAST,OACN,kBAAC,IAAD,KACG,kBAAC,EAAD,CAAKO,MAAOA,KAEhBrD,SAASwD,eAAe,c","file":"static/js/main.c8786fb5.chunk.js","sourcesContent":["import React from \"react\"\n\nlet Delete = props => {\n    const { id, deleteAd } = props;\n\n    let removeAd = () => {\n        fetch(`https://5e5f623ab5c43c0014ef984c.mockapi.io/ad/${id}`, {\n            method: \"DELETE\"\n        })\n        .then(response => response.json()).then(result => {\n            deleteAd(result.id)\n        })\n        .catch(err => console.log(err));\n    }\n\n    return (\n        <button className=\"post__delete\" onClick={() => removeAd()}>╳</button>\n    )\n}\n\nexport default Delete;","import React from \"react\"\nimport { Link } from \"react-router-dom\"\n\nlet Change = props => {\n    const { id } = props;\n    let url = `/edit-ad/:${id}`;\n    return (\n        <Link to={url}>\n            <button className=\"post__change\">Edit</button>\n        </Link>\n    )\n}\n\nexport default Change;","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nlet Add = () => {\n    return(\n        <Link to=\"/create-add\">\n            <button className=\"post__create\">╋</button>\n        </Link>\n    )\n}\n\nexport default Add;","import React from \"react\"\n\nimport Delete from \"../components/delete\"\nimport Change from \"../components/change\"\nimport Add from \"../components/add\"\n\nlet AllAds = props => {\n    const { ads, deleteAd} = props;\n    \n    return(\n        <div>\n            <Add />\n            {\n                ads.sort((a, b) => a.id > b.id ? -1 : 1).map(ad => {\n                    return(\n                        <div className=\"post\" key={ad.id}>\n                            <Delete id={ad.id} deleteAd={deleteAd} />\n                            <Change id={ad.id}/>\n                            <img className=\"post__image\" src={ad.image} alt=\"картинка\" />\n                            <div>\n                                <span className=\"post__title\">{ad.title}</span>\n                                <p className=\"post__description\">{ad.description}</p>\n                            </div>\n                        </div>\n                    )\n                })\n            }\n        </div>\n    )\n}\n\nexport default AllAds","\nlet checkForm = (title, description, image) => {\n    document.querySelectorAll('.form__error').forEach(elem => elem.remove());\n\n    if (title.trim() === '') {\n        let span = document.createElement('span');\n        span.classList.add('form__error');\n        span.innerHTML = 'Введите заголовок'\n        document.querySelector('.form__title').after(span);\n        return false;\n    } else if (description.trim() === '') {\n        let span = document.createElement('span');\n        span.classList.add('form__error');\n        span.innerHTML = 'Введите текст'\n        document.querySelector('.form__description').after(span);\n        return false;\n    } else if (image.trim() === '') {\n        let span = document.createElement('span');\n        span.classList.add('form__error');\n        span.innerHTML = 'Укажите ссылку на изображение'\n        document.querySelector('.form__image').after(span);\n        return false;\n    }\n    return true;\n}\n\nexport default checkForm;","import React from \"react\"\nimport { Link } from \"react-router-dom\"\nimport checkForm from \"../functions/checkForm\";\n\nlet ChangeAd = props => {\n    const { ads, changeAd } = props\n    const editID = String(window.location.href.match(/edit-ad\\/:\\d{1,}/)).match(/\\d{1,}/) + \"\";\n    const ad = ads.find(elem => {\n        if (elem.id === editID) return true;\n        else return false\n    })\n\n    let saveToState = (e) => {\n\n        let title = document.querySelector(\".form__title\").value;\n        let description = document.querySelector(\".form__description\").value;\n        let image = document.querySelector(\".form__image\").value;\n\n        if (!checkForm(title, description, image)) {\n            e.preventDefault();\n            return;\n        }\n\n        let obj = {\n            id: editID,\n            title,\n            description,\n            image\n        }\n\n        fetch(`https://5e5f623ab5c43c0014ef984c.mockapi.io/ad/${editID}`, {\n            method: \"PUT\",\n            body: JSON.stringify(obj),\n            headers: {\n                \"Content-Type\": \"application/json\"\n              }\n        }).then(response => response.json())\n        .then(result => {\n            changeAd(result.id, result.createdAt, result.title, result.description, result.updatedAt, result.image)\n        })\n    }\n    \n    return(\n        <div className=\"post\">\n            <form className=\"form\">\n                <label htmlFor=\"title\">Заголовок</label>\n                <input className=\"form__title\" type=\"text\" name=\"title\" id=\"title\" maxLength=\"50\" required defaultValue={ad.title}></input>\n                <label htmlFor=\"description\">Текст</label>\n                <textarea className=\"form__description\" type=\"text\" name=\"description\" id=\"description\" maxLength=\"500\" required defaultValue={ad.description} rows=\"6\"></textarea>\n                <label htmlFor=\"image\">Ссылка на изображение</label>\n                <input className=\"form__image\" type=\"text\" name=\"image\" id=\"image\" maxLength=\"300\" defaultValue={ad.image}></input>\n                <Link to=\"/\" ><input type=\"submit\" className=\"form__submit\" value=\"Save\" onClick={(e) => saveToState(e)}></input></Link>\n            </form>\n        </div>\n    )\n}\n\nexport default ChangeAd","import React from \"react\"\nimport { Link } from \"react-router-dom\"\nimport checkForm from \"../functions/checkForm\"\n\nlet AddAd = props => {\n    let { addAd } = props;\n\n    let addToState = (e) => {\n\n        let title = document.querySelector(\".form__title\").value;\n        let description = document.querySelector(\".form__description\").value;\n        let image = document.querySelector(\".form__image\").value;\n\n        if (!checkForm(title, description, image)) {\n            e.preventDefault();\n            return;\n        }\n\n        let obj = {\n            title,\n            description,\n            image\n        }\n\n        fetch(\"https://5e5f623ab5c43c0014ef984c.mockapi.io/ad\", {\n            method: \"POST\",\n            body: JSON.stringify(obj),\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        })\n            .then(response => response.json())\n            .then(result => {\n                console.log(result);\n\n                addAd(result.id, result.createdAt, result.title, result.description, result.updatedAt, result.image)\n            })\n    }\n\n    return (\n        <div className=\"post\">\n            <form className=\"form\">\n                <label htmlFor=\"title\">Заголовок</label>\n                <input className=\"form__title\" type=\"text\" name=\"title\" id=\"title\" maxLength=\"50\" required></input>\n                <label htmlFor=\"description\">Текст</label>\n                <textarea className=\"form__description\" type=\"text\" name=\"description\" id=\"description\" maxLength=\"500\" rows=\"6\"></textarea>\n                <label htmlFor=\"image\">Ссылка на изображение</label>\n                <input className=\"form__image\" type=\"text\" name=\"image\" id=\"image\" maxLength=\"300\"></input>\n                <Link to=\"/\" ><input type=\"submit\" className=\"form__submit\" value=\"Save\" onClick={(e) => addToState(e)}></input></Link>\n            </form>\n        </div>\n    )\n}\n\nexport default AddAd;","import React from 'react';\nimport { connect } from 'react-redux'\nimport { Switch, Route } from 'react-router-dom'\nimport { addAd, changeAd, deleteAd } from './actions'\nimport './style.css'\nimport AllAds from './containers/allAds'\nimport EditAd from './containers/editAd'\nimport AddAd from './containers/addAd'\n\nlet App = props => {\n  const { ads, addAd, changeAd, deleteAd } = props;\n\n  return (\n    <div className=\"wrap\">\n      <Switch>\n        <Route exact path=\"/\" render={() => <AllAds ads={ads} deleteAd={deleteAd} />} />\n        <Route path=\"/edit-ad\" render={() => <EditAd ads={ads} changeAd={changeAd} />} />\n        <Route path=\"/create-add\" render={() => <AddAd addAd={addAd} />} />\n      </Switch>\n    </div>\n  )\n}\n\nconst mapStateToProps = state => {\n  return {\n    ads: state\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    addAd: (id, createdAt, name, title, updatedAt, image) => dispatch(addAd(id, createdAt, name, title, updatedAt, image)),\n    changeAd: (id, createdAt, name, title, updatedAt, image) => dispatch(changeAd(id, createdAt, name, title, updatedAt, image)),\n    deleteAd: (id) => dispatch(deleteAd(id))\n  }\n}\n\nApp = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(App)\n\nexport default App;\n","export const addAd = (id, createdAt, title, description, updatedAt, image) => {\n    return {\n        type: 'ADD_AD',\n        id,\n        createdAt,\n        title,\n        description,\n        updatedAt,\n        image\n    }\n}\n\nexport const changeAd = (id, createdAt, title, description, updatedAt, image) => {\n    return {\n        type: 'CHANGE_AD',\n        id,\n        createdAt,\n        title,\n        description,\n        updatedAt,\n        image\n    }\n}\n\nexport const deleteAd = (id) => {\n    return {\n        type: 'DELETE_AD',\n        id\n    }\n}","\nconst ads = (state = [], action) => {\n    switch (action.type) {\n        case 'ADD_AD':\n            return [\n                ...state,\n                {\n                    id: action.id,\n                    createdAt: action.createdAt,\n                    title: action.title,\n                    description: action.description,\n                    updateAt: action.updatedAt,\n                    image: action.image\n                }\n            ]\n\n        case 'CHANGE_AD':\n            return state.map(elem => {\n                if (elem.id === action.id) {\n                    return {\n                        id: elem.id,\n                        createdAt: elem.createdAt,\n                        title: action.title,\n                        description: action.description,\n                        updateAt: action.updatedAt,\n                        image: action.image\n                    }\n                } else return elem;\n            })\n\n        case 'DELETE_AD':\n            return state.filter((elem) => {\n                if (elem.id === action.id) {\n                    return false;\n                } else return true;\n            })\n\n        default:\n            return state;\n    }\n}\n\nexport default ads;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport App from \"./App\";\nimport { createStore } from \"redux\";\nimport ads from \"./reducers\"\n\nfetch(\"https://5e5f623ab5c43c0014ef984c.mockapi.io/ad\").then(response => response.json()).then(result => {\n  const store = createStore(ads, result)\n\n  ReactDOM.render(\n    (<BrowserRouter>\n        <App store={store} />\n    </BrowserRouter>), \n    document.getElementById(\"root\"));\n});\n"],"sourceRoot":""}