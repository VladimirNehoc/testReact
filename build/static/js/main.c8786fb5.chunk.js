(this["webpackJsonptest-react"]=this["webpackJsonptest-react"]||[]).push([[0],{23:function(e,t,a){e.exports=a(34)},32:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(10),c=a.n(i),o=a(5),d=a(21),l=a(7),m=(a(32),function(e){var t=e.id,a=e.deleteAd;return r.a.createElement("button",{className:"post__delete",onClick:function(){fetch("https://5e5f623ab5c43c0014ef984c.mockapi.io/ad/".concat(t),{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){a(e.id)})).catch((function(e){return console.log(e)}))}},"\u2573")}),u=function(e){var t=e.id,a="/edit-ad/:".concat(t);return r.a.createElement(o.b,{to:a},r.a.createElement("button",{className:"post__change"},"Edit"))},s=function(){return r.a.createElement(o.b,{to:"/create-add"},r.a.createElement("button",{className:"post__create"},"\u254b"))},f=function(e){var t=e.ads,a=e.deleteAd;return r.a.createElement("div",null,r.a.createElement(s,null),t.sort((function(e,t){return e.id>t.id?-1:1})).map((function(e){return r.a.createElement("div",{className:"post",key:e.id},r.a.createElement(m,{id:e.id,deleteAd:a}),r.a.createElement(u,{id:e.id}),r.a.createElement("img",{className:"post__image",src:e.image,alt:"\u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0430"}),r.a.createElement("div",null,r.a.createElement("span",{className:"post__title"},e.title),r.a.createElement("p",{className:"post__description"},e.description)))})))},p=function(e,t,a){if(document.querySelectorAll(".form__error").forEach((function(e){return e.remove()})),""===e.trim()){var n=document.createElement("span");return n.classList.add("form__error"),n.innerHTML="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",document.querySelector(".form__title").after(n),!1}if(""===t.trim()){var r=document.createElement("span");return r.classList.add("form__error"),r.innerHTML="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442",document.querySelector(".form__description").after(r),!1}if(""===a.trim()){var i=document.createElement("span");return i.classList.add("form__error"),i.innerHTML="\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",document.querySelector(".form__image").after(i),!1}return!0},E=function(e){var t=e.ads,a=e.changeAd,n=String(window.location.href.match(/edit-ad\/:\d{1,}/)).match(/\d{1,}/)+"",i=t.find((function(e){return e.id===n}));return r.a.createElement("div",{className:"post"},r.a.createElement("form",{className:"form"},r.a.createElement("label",{htmlFor:"title"},"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"),r.a.createElement("input",{className:"form__title",type:"text",name:"title",id:"title",maxLength:"50",required:!0,defaultValue:i.title}),r.a.createElement("label",{htmlFor:"description"},"\u0422\u0435\u043a\u0441\u0442"),r.a.createElement("textarea",{className:"form__description",type:"text",name:"description",id:"description",maxLength:"500",required:!0,defaultValue:i.description,rows:"6"}),r.a.createElement("label",{htmlFor:"image"},"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"),r.a.createElement("input",{className:"form__image",type:"text",name:"image",id:"image",maxLength:"300",defaultValue:i.image}),r.a.createElement(o.b,{to:"/"},r.a.createElement("input",{type:"submit",className:"form__submit",value:"Save",onClick:function(e){return function(e){var t=document.querySelector(".form__title").value,r=document.querySelector(".form__description").value,i=document.querySelector(".form__image").value;if(p(t,r,i)){var c={id:n,title:t,description:r,image:i};fetch("https://5e5f623ab5c43c0014ef984c.mockapi.io/ad/".concat(n),{method:"PUT",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a(e.id,e.createdAt,e.title,e.description,e.updatedAt,e.image)}))}else e.preventDefault()}(e)}}))))},_=function(e){var t=e.addAd;return r.a.createElement("div",{className:"post"},r.a.createElement("form",{className:"form"},r.a.createElement("label",{htmlFor:"title"},"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"),r.a.createElement("input",{className:"form__title",type:"text",name:"title",id:"title",maxLength:"50",required:!0}),r.a.createElement("label",{htmlFor:"description"},"\u0422\u0435\u043a\u0441\u0442"),r.a.createElement("textarea",{className:"form__description",type:"text",name:"description",id:"description",maxLength:"500",rows:"6"}),r.a.createElement("label",{htmlFor:"image"},"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"),r.a.createElement("input",{className:"form__image",type:"text",name:"image",id:"image",maxLength:"300"}),r.a.createElement(o.b,{to:"/"},r.a.createElement("input",{type:"submit",className:"form__submit",value:"Save",onClick:function(e){return function(e){var a=document.querySelector(".form__title").value,n=document.querySelector(".form__description").value,r=document.querySelector(".form__image").value;if(p(a,n,r)){var i={title:a,description:n,image:r};fetch("https://5e5f623ab5c43c0014ef984c.mockapi.io/ad",{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e),t(e.id,e.createdAt,e.title,e.description,e.updatedAt,e.image)}))}else e.preventDefault()}(e)}}))))},h=function(e){var t=e.ads,a=e.addAd,n=e.changeAd,i=e.deleteAd;return r.a.createElement("div",{className:"wrap"},r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/",render:function(){return r.a.createElement(f,{ads:t,deleteAd:i})}}),r.a.createElement(l.a,{path:"/edit-ad",render:function(){return r.a.createElement(E,{ads:t,changeAd:n})}}),r.a.createElement(l.a,{path:"/create-add",render:function(){return r.a.createElement(_,{addAd:a})}})))},g=h=Object(d.a)((function(e){return{ads:e}}),(function(e){return{addAd:function(t,a,n,r,i,c){return e(function(e,t,a,n,r,i){return{type:"ADD_AD",id:e,createdAt:t,title:a,description:n,updatedAt:r,image:i}}(t,a,n,r,i,c))},changeAd:function(t,a,n,r,i,c){return e(function(e,t,a,n,r,i){return{type:"CHANGE_AD",id:e,createdAt:t,title:a,description:n,updatedAt:r,image:i}}(t,a,n,r,i,c))},deleteAd:function(t){return e(function(e){return{type:"DELETE_AD",id:e}}(t))}}}))(h),A=a(12),v=a(22),y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_AD":return[].concat(Object(v.a)(e),[{id:t.id,createdAt:t.createdAt,title:t.title,description:t.description,updateAt:t.updatedAt,image:t.image}]);case"CHANGE_AD":return e.map((function(e){return e.id===t.id?{id:e.id,createdAt:e.createdAt,title:t.title,description:t.description,updateAt:t.updatedAt,image:t.image}:e}));case"DELETE_AD":return e.filter((function(e){return e.id!==t.id}));default:return e}};fetch("https://5e5f623ab5c43c0014ef984c.mockapi.io/ad").then((function(e){return e.json()})).then((function(e){var t=Object(A.b)(y,e);c.a.render(r.a.createElement(o.a,null,r.a.createElement(g,{store:t})),document.getElementById("root"))}))}},[[23,1,2]]]);
//# sourceMappingURL=main.c8786fb5.chunk.js.map